<!doctype html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Feed</title>

        <!-- Ícone da aba do navegador -->
        <link rel="shortcut icon" href="assets/img/favicon.svg" type="image/x-icon" />

        <!-- Preconexão para otimizar o carregamento das fontes -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&display=swap" rel="stylesheet" />

        <!-- Script para ícones Phosphor -->
        <script src="https://unpkg.com/@phosphor-icons/web"></script>

        <!-- biblioteca DOMPurify | remove qualquer script ou tag HTML potencialmente perigosa, Cross-Site Scripting (XSS) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.0/purify.min.js"></script>

        <!-- Link para o arquivo CSS da página de feed -->
        <link rel="stylesheet" href="../css/feed.css" />
    </head>

    <body>
        <!-- Cabeçalho com ícone de menu, logo e perfil do usuário -->
        <header>
            <button id="hamburguerIcon" class="hamburguer-btn">
                <img src="../assets/img/list.svg" alt="Menu" class="hamburguer" />
            </button>

            <a href="/feed">
                <img id="logo_header" src="../assets/img/logo-dark.svg" alt="Logo Twif" />
            </a>

            <a href="" class="me_user_perfil">
                <div id="modal_admin">
                    <h2 id="text_adm_on">Admin On</h2>
                    <img id="User_profile" src="../assets/profile-pictures/defaultphoto.png" alt="defaultphoto" />
                </div>
            </a>
        </header>

        <!-- Modal do menu hambúrguer -->
        <div id="modalHamburguer" class="modal">
            <button id="closeModalBtn" class="close-modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24">
                    <g fill="none" fill-rule="evenodd">
                        <path
                            d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"
                        />
                        <path
                            fill="black"
                            d="m12 14.122l5.303 5.303a1.5 1.5 0 0 0 2.122-2.122L14.12 12l5.304-5.303a1.5 1.5 0 1 0-2.122-2.121L12 9.879L6.697 4.576a1.5 1.5 0 1 0-2.122 2.12L9.88 12l-5.304 5.304a1.5 1.5 0 1 0 2.122 2.12z"
                        />
                    </g>
                </svg>
            </button>
            <div class="modal-content">
                <!-- Informações do usuário dentro do modal -->
                <div class="user-info">
                    <div class="one">
                        <img id="profilePictureModal" src="" alt="Foto de perfil" />
                    </div>

                    <div class="dois">
                        <span id="userNameModal"></span>
                        <span id="userNickModal"></span>
                        <a href="" class="me_user_perfil">
                            <button>Meu Perfil</button>
                        </a>
                    </div>
                </div>

                <a href="/relatorios" id="acessoRelatorios" style="display: none">
                    <button class="relatoriosLink">Relatórios <img src="../assets/img/chart-line-up-bold.svg" /></button>
                </a>

                <div id="darkModeToggle" style="cursor: pointer">
                    <span>Ativar Modo Escuro</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#7ec543" viewBox="0 0 256 256" id="lampIcon">
                        <path
                            d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-50.34,2.34a8,8,0,0,0-11.32,0L128,132.69l-26.34-26.35a8,8,0,0,0-11.32,11.32L120,147.31V184a8,8,0,0,0,16  0V147.31l29.66-29.65A8  8  0  0  0 165.66 106.34Z"
                        ></path>
                    </svg>
                </div>

                <button id="sairBtn" class="sair">Sair</button>
            </div>
        </div>

        <!-- Conteúdo principal da página -->
        <main class="main">
            <!-- Seção de criação de um novo post -->
            <div class="newPost">
                <div class="infoUser">
                    <div class="imgUser">
                        <img src="../assets/profile-pictures/defaultphoto.png" alt="" />
                    </div>
                    <strong id="name_user"></strong>
                </div>

                <!-- Formulário de postagem -->
                <form method="post" class="formPost" id="formPost">
                    <textarea name="content" placeholder="O que há de novo?..." id="textarea" maxlength="120"></textarea>

                    <!-- Botão para publicar o post -->
                    <div class="iconsAndButton">
                        <button type="submit" id="botao" class="btnSubmitForm">Publicar</button>
                    </div>
                </form>
            </div>

            <!-- Lista de posts existentes -->
            <ul class="posts" id="posts">
                <!-- Estrutura de um post individual -->
                <li class="post">
                    <div class="infoUserPost">
                        <div class="imgUserPost">
                            <div id="imgUserPost"></div>
                            <img src="" alt="" />
                        </div>

                        <div class="nameAndHour" id="nameAndHour">
                            <!-- Nome do usuário e horário do post -->
                            <strong><span id="userNick"></span></strong>
                            <p></p>
                        </div>
                    </div>

                    <!-- Conteúdo do post -->
                    <div class="content_post_loading"></div>
                    <div class="content_post_loading"></div>
                    <p></p>

                    <!-- Botões de ação do post (curtir, comentar) -->
                    <div class="actionBtnPost">
                        <div class="content_metric">
                            <p id="number_like"></p>
                            <button type="button" class="filesPost like">
                                <!-- Ícone para curtir o post -->
                                <i class="ph-bold ph-heart"></i>
                                <!-- Ícone quando o post está curtido -->
                                <i style="display: none" class="ph-fill ph-heart"></i>
                            </button>
                        </div>

                        <div class="content_metric">
                            <p id="number_coments"></p>
                            <button type="button" class="filesPost comment">
                                <i class="ph-bold ph-chat-circle"></i>
                            </button>
                        </div>
                    </div>
                </li>
            </ul>
        </main>

        <!-- Botão flutuante para novo post -->
        <button id="btnNovoPost" class="botao-flutuante"><img src="../assets/img/newpost.svg" /></button>

        <!-- Modal de novo post -->
        <div id="modalNovoPost" class="modalDois">
            <div class="modal-conteudo">
                <span id="fecharModal" class="fechar-modal">&times;</span>
                <h2>nova publicação<span class="bold">!</span></h2>
                <form id="formNovoPost">
                    <textarea id="conteudoPost" rows="5" placeholder="Escreva seu post..." required></textarea>
                    <button type="submit">Publicar</button>
                </form>
            </div>
        </div>

        <!-- Script para o formulário de postagem -->
        <script type="module" src="../js/FormPost.js"></script>
    </body>
</html>
